<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>v4 &#8212; PpyMare 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=8d563738"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for v4</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span><span class="w"> </span><span class="nn">Enemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enemy</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">enteties</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">enteties</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pyglet</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pyglet</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tk</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pygame</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pygame</span>


<div class="viewcode-block" id="PpyMareGame">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PpyMareGame</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="c1">#music</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">set_num_channels</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_attack</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_click</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1">#sounds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sound_bg</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/C418 - Wet Hands - Minecraft Volume Alpha.mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sound_type</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/typing-sound-effect.mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spider_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/Pokemon Black &amp; White Music_ Driftveil City Music.mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_blob_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/The Trapper.mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bimbo_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/You Have to Cut the Dope (mp3cut.net).mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dog_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/In Game (From Granny).mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fish_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/Remnants in Dreams (mp3cut.net).mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mix_ending_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span>
            <span class="s1">&#39;sounds/Bleach Ost Soundscape to ardor (Morning Remembrance) [AMV].mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bad_ending_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/Little Nightmares II End of the Hall.mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">good_ending_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/Welcome to Moominvalley.mp3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">death_sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/Hades - Death and I (mp3cut.net).mp3&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">attack_spider</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/attack_spider.wav&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attack_blob</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/attack_blob.wav&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attack_bimbo</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/attack_bimbo.wav&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attack_dog</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/attack_dog.wav&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attack_fish</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/attack_fish.wav&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sound_click</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;sounds/click.wav&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sound_bg</span><span class="p">,</span> <span class="n">loops</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">set_volume</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;1400x700&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PpyMare&quot;</span><span class="p">)</span>

        <span class="c1">#images</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_skip</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/skip.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_play</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/play.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_title</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/title.png&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">img_game1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/g1.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_game2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/g2.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_game3</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/g3.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_game4</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/g4.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_game5</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;images/g5.png&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spider_image1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/spider_1-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spider_image2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/spider_2-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_blob_image1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/blob_2-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_blob_image2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/blob_1-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bimbo_bear_image1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/bimbo_02-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bimbo_bear_image2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/bimbo_01-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">talking_dog_image1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/dog_1-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">talking_dog_image2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/dog_2-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fish_boss_image1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/fish_1-removebg-preview.png&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fish_boss_image2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;images/fish_2-removebg-preview.png&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1">#stores the ID of the scheduled after() for the writing effect</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">after_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ending</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">attack</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mercy</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1">#fonte</span>
        <span class="n">pyglet</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;win32_gdi_font&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontpath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;assets/Ghastly Panic.ttf&#39;</span>
        <span class="n">pyglet</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">add_file</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontpath</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span> <span class="o">=</span> <span class="n">pyglet</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;Ghastly Panic&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>  <span class="c1">#pozdrawiam kubę</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frames_maker</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_frame</span><span class="p">(</span><span class="s1">&#39;frameMenu&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="PpyMareGame.frames_maker">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.frames_maker">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">frames_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
        <span class="n">container</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">container</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;frameMenu&#39;</span><span class="p">,</span> <span class="s1">&#39;frameStart&#39;</span><span class="p">,</span> <span class="s1">&#39;frameMap&#39;</span><span class="p">,</span> <span class="s1">&#39;frameStartStory1&#39;</span><span class="p">,</span> <span class="s1">&#39;frameStartStory2&#39;</span><span class="p">,</span> <span class="s1">&#39;frameStartStory3&#39;</span><span class="p">,</span> <span class="s1">&#39;fight&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;frameStartStory4&#39;</span><span class="p">,</span> <span class="s1">&#39;frameStartStory5&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight1&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight2&#39;</span><span class="p">,</span>  <span class="s1">&#39;frameFight3&#39;</span><span class="p">,</span>  <span class="s1">&#39;frameFight4&#39;</span><span class="p">,</span>  <span class="s1">&#39;frameFight5&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;frameEndStory1&#39;</span><span class="p">,</span> <span class="s1">&#39;frameEndStory2&#39;</span><span class="p">,</span> <span class="s1">&#39;frameEndStory3&#39;</span><span class="p">,</span> <span class="s1">&#39;frameEndStory4&#39;</span><span class="p">,</span> <span class="s1">&#39;mixed_ending&#39;</span><span class="p">,</span> <span class="s1">&#39;bad_ending&#39;</span><span class="p">,</span> <span class="s1">&#39;good_ending&#39;</span><span class="p">,</span> <span class="s1">&#39;frameWin&#39;</span><span class="p">,</span> <span class="s1">&#39;frameLose&#39;</span><span class="p">,</span> <span class="s1">&#39;frameSpare&#39;</span><span class="p">):</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nsew&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">frame</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span>

        <span class="c1">#frameMenu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bStart</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMenu&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_play</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStart&#39;</span><span class="p">,</span> <span class="s1">&#39;frameMap&#39;</span><span class="p">,</span> <span class="s1">&#39;bStart&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bStart</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.80</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMenu&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_title</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),)</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="c1">#frameMap</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game1</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory1&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b1</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.17</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">b2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game2</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory2&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight2&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">b3</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game3</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory3&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight3&#39;</span><span class="p">,</span> <span class="s1">&#39;b3&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">b4</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game4</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory4&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight4&#39;</span><span class="p">,</span> <span class="s1">&#39;b4&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b4</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.67</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">b5</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game5</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory5&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight5&#39;</span><span class="p">,</span> <span class="s1">&#39;b5&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b5</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.83</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="c1">#buttons b2 and b3 have the same action as buttons b2d and b3d</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game2</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory2&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight2&#39;</span><span class="p">,</span> <span class="s1">&#39;b2d&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="s1">&#39;frameMap&#39;</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_game3</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span>  <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s1">&#39;frameStartStory3&#39;</span><span class="p">,</span> <span class="s1">&#39;frameFight3&#39;</span><span class="p">,</span> <span class="s1">&#39;b3d&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="c1">#frames with text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">story_texts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;frameStart&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;A wet feeling on your face wakes you up. It&#39;s rain. You look around. You don’t know where you are but everything looks like from a dream. It seems like you’re in the middle of a forest. You’re laying in moss but you don’t remember how you got here. Something blinking in the distance caught your attention. You come closer to it and it turns out it’s in a cave. Curiosity gets the better of you and you enter. &quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameStartStory1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Upon entering you notice a figure. It looks like a spider. Maybe it will tell you more? Intrigued, you come closer.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameStartStory2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You land on ground and it&#39;s a miracle that you&#39;re alright. You look around. You&#39;re on a small Island. It&#39;s very warm and pleasent. Then you notice that you didn&#39;t get hurt because you fell on a weird watery blob.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameStartStory3&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Suddenly, (you don&#39;t know how), you&#39;re in school. A wave of memories floods you. Old anxiety and sweat on your hands returns. In front of you appeares that one popular girl who laughed at you. The way she&#39;s loudly chewing gum drives you crazy.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameStartStory4&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;You want to move on to look for exit but there is a dog standing in front of you. &quot;You smell like bones…&quot;  it says (which surprises you). &quot;Share them with me. I am H U N G R Y&quot;.&#39;</span><span class="p">),</span>
            <span class="s1">&#39;frameStartStory5&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;There is emptiness, only a huge fish with legs. &quot;I have been watching you all along. I am the one who shapes reality, your confusion pleases me. I am not letting you go.&quot;&#39;</span><span class="p">),</span>
            <span class="s1">&#39;frameEndStory1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You decide to leave the cave, but where the forest used to be, there&#39;s nothing left. Not even ground. Then you fall.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameEndStory2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;A bird grabs you and takes you somewhere far away.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameEndStory3&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You hear a bell and you wake up in your bed. Phew thankfully it was just an alarm that you haven&#39;t turned off since high school. You check the clock but can&#39;t see clearly what time is it. It&#39;s probably because you&#39;re still sleepy. You go to the bathroom to wash your face. You look up at the mirror, but it isn&#39;t your face that you see. The staring person from the mirror strats coming out and subconsciously you know that it doesn&#39;t mean anything good. You grab the doorknob and run out of the bathroom straight into the hotel corridor. You run and run until you&#39;re out of breath. You look back expecting to see THAT THING, but corridor is empty. Phew it seems like you managed to escape. &quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameEndStory4&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You move on, but the corridors don&#39;t end. You turn again and you see the same painting, the same plant on right and the same (qustionable) stain on the carpet, God only knows what it&#39;s from... You look up and an the end of the hallway you see your old, lost love. It&#39;s that person, the one you spent your wonderful vacations with. You feel disoriented and in a rush of adrenaline you start running desperately towards her, shouting her name, but she disapperes behind the door. You run up there and enter the room and...&quot;</span><span class="p">),</span>
            <span class="s1">&#39;mixed_ending&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Weird fish vanished. You decide to look for exit once more. You have to get out.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;bad_ending&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;All of this is too much for you. You decide to get out. It doesn&#39;t matter who else you have to kill to leave this place.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;good_ending&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You wake up in your bed. That was a weird dream.&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameWin&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You go girl! You win&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameLose&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;You died (cringe)&quot;</span><span class="p">),</span>
            <span class="s1">&#39;frameSpare&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;nice</span><span class="se">\n</span><span class="s2">(You spared the enemy)&quot;</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="c1">#setting text to specific frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">story_labels</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">story_texts</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;frameWin&#39;</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;frameLose&#39;</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">!=</span><span class="s1">&#39;frameSpare&#39;</span><span class="p">:</span>
                <span class="n">lbl</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">wraplength</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
                <span class="n">lbl</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">relwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">relheight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">story_labels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">lbl</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lbl</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">wraplength</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
                <span class="n">lbl</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">relwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">relheight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">story_labels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">lbl</span>


            <span class="k">def</span><span class="w"> </span><span class="nf">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">):</span>
                <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_skip</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                          <span class="n">activebackground</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                          <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k</span><span class="o">=</span><span class="n">key</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">play_click_sound</span><span class="p">(),</span>  <span class="bp">self</span><span class="o">.</span><span class="n">show_frame</span><span class="p">(</span><span class="n">game</span><span class="p">)])</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.80</span><span class="p">)</span>

            <span class="c1">#setting the output for the skip button</span>
            <span class="k">match</span> <span class="n">key</span><span class="p">:</span>
                <span class="k">case</span> <span class="s2">&quot;frameStart&quot;</span><span class="p">:</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="s2">&quot;frameMap&quot;</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameStartStory1&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameFight1&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameStartStory2&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameFight2&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameStartStory3&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameFight3&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameStartStory4&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameFight4&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameStartStory5&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameFight5&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameEndStory1&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameMap&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameEndStory2&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameMap&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameEndStory3&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameMap&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameEndStory4&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameMap&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
                <span class="k">case</span> <span class="s2">&quot;frameEndStory5&quot;</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="s2">&quot;frameMap&quot;</span>
                    <span class="n">skip_button</span><span class="p">(</span><span class="n">game</span><span class="p">)</span></div>


<div class="viewcode-block" id="PpyMareGame.play_click_sound">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.play_click_sound">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">play_click_sound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_click</span><span class="o">.</span><span class="n">get_busy</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chan_click</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sound_click</span><span class="p">)</span></div>


    <span class="c1">#changing buttons statuses based on clicked button</span>
<div class="viewcode-block" id="PpyMareGame.switch">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.switch">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button_name</span><span class="p">):</span>
        <span class="k">match</span> <span class="n">button_name</span><span class="p">:</span>
            <span class="k">case</span> <span class="s2">&quot;bStart&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b4</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b5</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;b1&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;b2&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;b2d&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;b3&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b4</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;b3d&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b4</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;b4&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b4</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b5</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;lose&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b2d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b3d</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b4</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">b5</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span></div>



    <span class="c1">#main writing fuction</span>
<div class="viewcode-block" id="PpyMareGame.text_typer">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.text_typer">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">text_typer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">75</span><span class="p">):</span>
        <span class="c1"># if label was destroyed stop typing and fadeout</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">label</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">get_busy</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">fadeout</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1">#start typing sound</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">get_busy</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sound_type</span><span class="p">,</span> <span class="n">loops</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">fade_ms</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

        <span class="c1">#display text char by char</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)):</span>
            <span class="n">label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span> <span class="o">=</span> <span class="n">label</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_typer</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">delay</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">#stop typing sound if all char</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">fadeout</span><span class="p">(</span><span class="mi">800</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span></div>


<div class="viewcode-block" id="PpyMareGame.start_text_typer">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.start_text_typer">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">start_text_typer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">75</span><span class="p">):</span>
        <span class="c1"># canceling previous writing (if any)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">label</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span> <span class="c1">#in case the label has already bean destroyed</span>
                <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1">#clearing text in label</span>
        <span class="n">label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="c1">#running main wri function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_typer</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">delay</span><span class="p">)</span></div>


    <span class="c1">#showing frame</span>
<div class="viewcode-block" id="PpyMareGame.show_frame">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.show_frame">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="c1">#cancel dalayed</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">after_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1">#cancel animation if active</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;animation_id&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Stop typing sound if still playing</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">get_busy</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chan_type</span><span class="o">.</span><span class="n">fadeout</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>

        <span class="c1">#reset typing state</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;typing_after_id&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">except</span> <span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typing_after_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">attack</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mercy</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1">#show farme based on name</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameFight1&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fight_frame</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">spider</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;frameEndStory1&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">spider_image1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">spider_image2</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">spider_sound</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attack_spider</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameFight2&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fight_frame</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">water_blob</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;frameEndStory2&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_blob_image1</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">water_blob_image2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_blob_sound</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attack_blob</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameFight3&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fight_frame</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">bimbo_bear</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;frameEndStory3&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bimbo_bear_image1</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">bimbo_bear_image2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bimbo_sound</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attack_bimbo</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameFight4&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fight_frame</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">talking_dog</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;frameEndStory4&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">talking_dog_image1</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">talking_dog_image2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dog_sound</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attack_dog</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameFight5&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_ending</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">which_ending</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fight_frame</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">fish_boss</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_ending</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fish_boss_image1</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">fish_boss_image2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fish_sound</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">attack_fish</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameLose&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">death_sound</span><span class="p">)</span><span class="c1"># Play death sound</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">after_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_frame</span><span class="p">(</span>
                <span class="s1">&#39;frameMenu&#39;</span><span class="p">))</span>

            <span class="k">if</span> <span class="s1">&#39;frameLose&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">story_labels</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">story_labels</span><span class="p">[</span><span class="s1">&#39;frameLose&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">story_texts</span><span class="p">[</span><span class="s1">&#39;frameLose&#39;</span><span class="p">])</span>

        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;frameMenu&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sound_bg</span><span class="p">,</span> <span class="n">loops</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Restart background music for menu</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">set_volume</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

            <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">attack</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mercy</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">switch</span><span class="p">(</span><span class="s2">&quot;lose&quot;</span><span class="p">)</span>

        <span class="c1">#show selected frame to front</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">tkraise</span><span class="p">()</span>

        <span class="c1">#if frame has story_text display it with typing effect</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">story_texts</span><span class="p">:</span>
            <span class="n">lbl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">story_labels</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start_text_typer</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">story_texts</span><span class="p">[</span><span class="n">name</span><span class="p">])</span></div>


<div class="viewcode-block" id="PpyMareGame.calculate_display_time">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.calculate_display_time">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_display_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">read_time</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">time_to_type</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">*</span> <span class="n">delay</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>  <span class="c1"># change ms na s</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">((</span><span class="n">time_to_type</span> <span class="o">+</span> <span class="n">read_time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># return time in ms for after()</span></div>


    <span class="c1">#showing temporary frame</span>
<div class="viewcode-block" id="PpyMareGame.show_temp_frame">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.show_temp_frame">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_temp_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">temp_frame</span><span class="p">,</span> <span class="n">return_frame</span><span class="p">,</span> <span class="n">button_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">switch</span><span class="p">(</span><span class="n">button_name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_frame</span><span class="p">(</span><span class="n">temp_frame</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">story_texts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">temp_frame</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="mi">80</span>  <span class="c1"># ms delay for writing effect</span>
        <span class="n">total_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_display_time</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="n">delay</span><span class="p">,</span> <span class="n">read_time</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">after_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">total_time</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_frame</span><span class="p">(</span><span class="n">return_frame</span><span class="p">))</span></div>


    <span class="c1"># here&#39;s what we see after choosing level</span>
<div class="viewcode-block" id="PpyMareGame.fight_frame">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.fight_frame">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">fight_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enemy</span><span class="p">:</span> <span class="n">Enemy</span><span class="p">,</span> <span class="n">start_frame</span><span class="p">,</span> <span class="n">end_frame</span><span class="p">,</span> <span class="n">photo1</span><span class="p">,</span> <span class="n">photo2</span><span class="p">,</span> <span class="n">music</span><span class="p">,</span> <span class="n">attack_sound</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">loops</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># creating all necessary labels in their places</span>
        <span class="n">enemy_hp_bar</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">health_points</span>
        <span class="n">enemy_hp_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;HP </span><span class="si">{</span><span class="n">enemy_hp_bar</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
                                  <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
        <span class="n">enemy_hp_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="n">player_hp_bar</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span>
        <span class="n">player_hp_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your HP = </span><span class="si">{</span><span class="n">player_hp_bar</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
                                   <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
        <span class="n">player_hp_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="n">com_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
        <span class="n">com_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="n">stats_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your max hp = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                                                              <span class="sa">f</span><span class="s2">&quot;Your attack = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">attack_points</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                                                              <span class="sa">f</span><span class="s2">&quot;Your chance for sparing enemy = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mercy_chance</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                               <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
        <span class="n">stats_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;ne&quot;</span><span class="p">)</span>

        <span class="c1"># photo in place</span>
        <span class="n">image_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">image</span><span class="o">=</span><span class="n">photo1</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
        <span class="n">image_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># viewing animations</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">animation</span><span class="p">(</span><span class="n">frame1</span><span class="p">,</span> <span class="n">frame2</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">image_label</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">image_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="n">frame2</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">image_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="n">frame1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">animation</span><span class="p">(</span><span class="n">frame1</span><span class="p">,</span> <span class="n">frame2</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">animation</span><span class="p">(</span><span class="n">photo1</span><span class="p">,</span> <span class="n">photo2</span><span class="p">)</span>

        <span class="c1"># what happens when fight button is clicked</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">player_enemy_fight</span><span class="p">():</span>

            <span class="n">player_hp_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your HP = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">enemy_hp_before_attack</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">health_points</span>

            <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">attack_enemy</span><span class="p">(</span><span class="n">enemy</span><span class="p">)</span>
            <span class="n">enemy_hp_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;HP </span><span class="si">{</span><span class="n">enemy</span><span class="o">.</span><span class="n">enemy_tmp_health</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">health_points</span> <span class="o">==</span> <span class="n">enemy_hp_before_attack</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chan_attack</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">attack_sound</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">enemy_tmp_health</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enemy defeated!&quot;</span><span class="p">)</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;egg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;egg&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;leaf&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;leaf&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;feather&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;feather&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">+</span> <span class="mi">25</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span> <span class="o">+</span> <span class="mi">25</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">attack</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sound_bg</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sound_bg</span><span class="p">,</span> <span class="n">loops</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s2">&quot;frameWin&quot;</span><span class="p">,</span> <span class="n">end_frame</span><span class="p">)</span>
                <span class="n">enemy</span><span class="o">.</span><span class="n">enemy_reset</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Enemy attacked&quot;</span><span class="p">)</span>
            <span class="n">com_label</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">enemy</span><span class="o">.</span><span class="n">attack_player</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Player HP: </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">player_hp_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your HP = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">death_sound</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">death_sound</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s2">&quot;frameLose&quot;</span><span class="p">,</span> <span class="s2">&quot;frameMenu&quot;</span><span class="p">,</span> <span class="s2">&quot;lose&quot;</span><span class="p">)</span>
                <span class="n">enemy</span><span class="o">.</span><span class="n">enemy_reset</span><span class="p">()</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                <span class="k">return</span>
        <span class="c1"># what happens when mercy button is clicked</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">player_spares_enemy</span><span class="p">():</span>
            <span class="n">spared</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">mercy_success</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">spared</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;enemy spared&quot;</span><span class="p">)</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;egg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;egg&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;leaf&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;leaf&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;feather&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;feather&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">+</span> <span class="mi">25</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span> <span class="o">+</span> <span class="mi">25</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mercy</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sound_bg</span><span class="p">,</span> <span class="n">loops</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span><span class="p">:</span>  <span class="c1"># Anuluj animację przed zmianą ramki</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s2">&quot;frameSpare&quot;</span><span class="p">,</span> <span class="n">end_frame</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;You failed to spare the enemy&quot;</span><span class="p">)</span>
            <span class="n">com_label</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;you failed&quot;</span><span class="p">)</span>
            <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Enemy attacked&quot;</span><span class="p">)</span>
            <span class="n">com_label</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">enemy</span><span class="o">.</span><span class="n">attack_player</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Player HP: </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">player_hp_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your HP = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">animation_id</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_temp_frame</span><span class="p">(</span><span class="s2">&quot;frameLose&quot;</span><span class="p">,</span> <span class="s2">&quot;frameMenu&quot;</span><span class="p">,</span> <span class="s2">&quot;lose&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chan_bg</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">death_sound</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="c1"># checking values for each thing in inventory (if 0 you can&#39;t use it)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">check_button</span><span class="p">(</span><span class="n">button</span><span class="p">,</span> <span class="n">inventory_item</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="n">inventory_item</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="n">inventory_item</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="n">inventory_item</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="n">inventory_item</span><span class="p">])</span>
                    <span class="k">match</span> <span class="n">inventory_item</span><span class="p">:</span>
                        <span class="k">case</span> <span class="s2">&quot;egg&quot;</span><span class="p">:</span>
                            <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">attack_points</span> <span class="o">+=</span> <span class="mi">10</span>
                            <span class="nb">print</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">attack_points</span><span class="p">)</span>

                        <span class="k">case</span> <span class="s2">&quot;leaf&quot;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">==</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span><span class="p">:</span>
                                <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;You have max health&quot;</span><span class="p">)</span>
                                <span class="n">com_label</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
                                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span><span class="n">inventory_item</span><span class="p">]</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">[</span>
                                                                                <span class="n">inventory_item</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span> <span class="o">=</span> <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span>
                                <span class="n">player_hp_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your HP = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                                <span class="nb">print</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">health_points</span><span class="p">)</span>
                        <span class="k">case</span> <span class="s2">&quot;feather&quot;</span><span class="p">:</span>
                            <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mercy_chance</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="nb">print</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mercy_chance</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;You can&#39;t use that item, you don&#39;t have it&quot;</span><span class="p">)</span>
                    <span class="n">com_label</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">com_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You can&#39;t use that item, you don&#39;t have it&quot;</span><span class="p">)</span>

        <span class="c1"># creating all necessary buttons in fight segment</span>
        <span class="n">fight_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;           Fight          &quot;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                                 <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">player_enemy_fight</span><span class="p">())</span>
        <span class="n">fight_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

        <span class="n">mercy_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;           Spare          &quot;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                                 <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">player_spares_enemy</span><span class="p">())</span>
        <span class="n">mercy_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

        <span class="n">inventory_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;         Inventory       &quot;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                                     <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">inventory_clicked</span><span class="p">())</span>
        <span class="n">inventory_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

        <span class="n">info_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>

        <span class="n">EggCheckbutton_var</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="n">EggButton</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;           Egg          &quot;</span><span class="p">,</span>
                                   <span class="n">variable</span><span class="o">=</span><span class="n">EggCheckbutton_var</span><span class="p">,</span>
                                   <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
                                   <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">(</span>
                                   <span class="n">check_button</span><span class="p">(</span><span class="n">EggCheckbutton_var</span><span class="p">,</span> <span class="s2">&quot;egg&quot;</span><span class="p">),</span> <span class="n">config_info</span><span class="p">(),</span> <span class="n">config_stats</span><span class="p">()))</span>

        <span class="n">LeafCheckbutton_var</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="n">LeafButton</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;           Leaf          &quot;</span><span class="p">,</span>
                                    <span class="n">variable</span><span class="o">=</span><span class="n">LeafCheckbutton_var</span><span class="p">,</span>
                                    <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
                                    <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">(</span>
                                    <span class="n">check_button</span><span class="p">(</span><span class="n">LeafCheckbutton_var</span><span class="p">,</span> <span class="s2">&quot;leaf&quot;</span><span class="p">),</span> <span class="n">config_info</span><span class="p">(),</span> <span class="n">config_stats</span><span class="p">()))</span>

        <span class="n">FeatherCheckbutton_var</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="n">FeatherButton</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;         Feather        &quot;</span><span class="p">,</span>
                                       <span class="n">variable</span><span class="o">=</span><span class="n">FeatherCheckbutton_var</span><span class="p">,</span>
                                       <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
                                       <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">(</span>
                                       <span class="n">check_button</span><span class="p">(</span><span class="n">FeatherCheckbutton_var</span><span class="p">,</span> <span class="s2">&quot;feather&quot;</span><span class="p">),</span> <span class="n">config_info</span><span class="p">(),</span> <span class="n">config_stats</span><span class="p">()))</span>

        <span class="n">info_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;  ?  &quot;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">view_info</span><span class="p">())</span>

        <span class="n">exit_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="n">start_frame</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;           Exit          &quot;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">exit_inventory</span><span class="p">())</span>
        <span class="n">exit_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scary_font</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

        <span class="c1"># making sure that information is valid</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">config_info</span><span class="p">():</span>
            <span class="n">info_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;egg (increase your strength): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;egg&quot;</span><span class="p">))</span> <span class="o">+</span> \
                                   <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">leaf (heal yourself to max value): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;leaf&quot;</span><span class="p">))</span> <span class="o">+</span> \
                                   <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">feather (increase your sparing chance): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
                <span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;feather&quot;</span><span class="p">))</span>
                              <span class="p">)</span>

        <span class="c1"># making sure that statistics is valid</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">config_stats</span><span class="p">():</span>
            <span class="n">stats_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Your max hp = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">max_health_points</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                                    <span class="sa">f</span><span class="s2">&quot;Your attack = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">attack_points</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                                    <span class="sa">f</span><span class="s2">&quot;Your chance for sparing enemy = </span><span class="si">{</span><span class="n">enteties</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">mercy_chance</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># showing information about objects in inventory</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">view_info</span><span class="p">():</span>
            <span class="n">info_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

        <span class="c1"># activating inventory</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">inventory_clicked</span><span class="p">():</span>
            <span class="n">fight_button</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">mercy_button</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">inventory_button</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>

            <span class="n">config_info</span><span class="p">()</span>
            <span class="n">EggButton</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.20</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
            <span class="n">LeafButton</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.40</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
            <span class="n">FeatherButton</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.60</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
            <span class="n">info_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
            <span class="n">exit_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.80</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="c1"># exiting inventory</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">exit_inventory</span><span class="p">():</span>
            <span class="n">EggButton</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">LeafButton</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">FeatherButton</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">exit_button</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">info_button</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="n">info_label</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>

            <span class="n">fight_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
            <span class="n">mercy_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
            <span class="n">inventory_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="c1"># main action buttons</span>
        <span class="n">fight_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
        <span class="n">mercy_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
        <span class="n">inventory_button</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">start_frame</span> <span class="o">==</span> <span class="s2">&quot;frameFight5&quot;</span><span class="p">):</span>
            <span class="n">end_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">which_ending</span><span class="p">()</span></div>


    <span class="c1"># which_ending function in which we choose ending based on player actions</span>
<div class="viewcode-block" id="PpyMareGame.which_ending">
<a class="viewcode-back" href="../v4.html#v4.PpyMareGame.which_ending">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">which_ending</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">attack</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mercy</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ending</span> <span class="o">=</span> <span class="s2">&quot;mixed_ending&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ending</span> <span class="o">=</span> <span class="s2">&quot;bad_ending&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ending</span> <span class="o">=</span> <span class="s2">&quot;good_ending&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ending</span></div>
</div>




<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">PpyMareGame</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PpyMare</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">ppy-nightmare</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Małgorzata Świderek i Zofia Januszkiewicz.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>